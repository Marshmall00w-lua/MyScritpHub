local success, WindUI = pcall(function()
    return loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()
end)
if not success or not WindUI then
    warn("‚ùå Failed to load WindUI")
    return
end

-- üåà Add all themes
local themeNames = {
    "Ocean Blue","Forest Green","Minimal Light","Retro Purple","Sunset",
    "Neon Pulse","Steel Phantom","Vaporwave","Deep Sea","Sepia Warmth",
    "Monokai Dark","Solarized Light","Cherry Blossom","Charcoal Gold",
    "Icy Mint","Volcano","Amethyst","Pastel Dream","Coffee Shop","Cyberpunk Red"
}

-- Example: Adding all themes
local themeColors = {
    ["Ocean Blue"] = {Accent="#0B5394", Dialog="#0A3D6B", Outline="#6DACEA", Text="#EBF5FF", Placeholder="#85AECF", Background="#051A2E", Button="#1C67A8", Icon="#A9D5FD"},
    ["Forest Green"] = {Accent="#1A5E2E", Dialog="#114220", Outline="#8AC79B", Text="#E9FCE9", Placeholder="#79A378", Background="#0A2B14", Button="#2B7A42", Icon="#B3E3C1"},
    ["Minimal Light"] = {Accent="#F3F4F6", Dialog="#FFFFFF", Outline="#4B5563", Text="#1F2937", Placeholder="#9CA3AF", Background="#F9FAFB", Button="#E5E7EB", Icon="#4B5563"},
    ["Retro Purple"] = {Accent="#7E22CE", Dialog="#4A148C", Outline="#F0ABFC", Text="#FDF4FF", Placeholder="#BC8FDD", Background="#2D0557", Button="#9333EA", Icon="#F0ABFC"},
    ["Sunset"] = {Accent="#FF8847", Dialog="#CC5500", Outline="#FFD9C0", Text="#FFF7F0", Placeholder="#FFC099", Background="#331A00", Button="#FF7043", Icon="#FFD9C0"},
    ["Neon Pulse"] = {Accent="#00FF00", Dialog="#111111", Outline="#00FFFF", Text="#FFFFFF", Placeholder="#008800", Background="#000000", Button="#39FF14", Icon="#00FFFF"},
    ["Steel Phantom"] = {Accent="#404040", Dialog="#262626", Outline="#A3A3A3", Text="#D4D4D4", Placeholder="#737373", Background="#171717", Button="#525252", Icon="#A3A3A3"},
    ["Vaporwave"] = {Accent="#FF00FF", Dialog="#1B001B", Outline="#00FFFF", Text="#FFFFFF", Placeholder="#FF69FF", Background="#0A0014", Button="#E75480", Icon="#00FFFF"},
    ["Deep Sea"] = {Accent="#008B8B", Dialog="#005A5A", Outline="#80CBC4", Text="#E0FFFF", Placeholder="#4DB6AC", Background="#003636", Button="#00A3A3", Icon="#80CBC4"},
    ["Sepia Warmth"] = {Accent="#7B3F00", Dialog="#5C3200", Outline="#D2B48C", Text="#F5E8D6", Placeholder="#A98F70", Background="#3D291F", Button="#9D5B18", Icon="#D2B48C"},
    ["Monokai Dark"] = {Accent="#F92672", Dialog="#272822", Outline="#66D9EF", Text="#F8F8F2", Placeholder="#75715E", Background="#1C1E1A", Button="#A6E22E", Icon="#66D9EF"},
    ["Solarized Light"] = {Accent="#268BD2", Dialog="#FDF6E3", Outline="#93A1A1", Text="#586E75", Placeholder="#839496", Background="#EEE8D5", Button="#B58900", Icon="#268BD2"},
    ["Cherry Blossom"] = {Accent="#F9BCCB", Dialog="#FFFAFD", Outline="#D96985", Text="#4A1429", Placeholder="#C397A3", Background="#FFF7F9", Button="#E68A9F", Icon="#D96985"},
    ["Charcoal Gold"] = {Accent="#FFD700", Dialog="#2C2C2C", Outline="#C0C0C0", Text="#F5F5F5", Placeholder="#6E6E6E", Background="#1D1D1D", Button="#B8860B", Icon="#FFD700"},
    ["Icy Mint"] = {Accent="#40E0D0", Dialog="#F0FFFF", Outline="#81D4FA", Text="#004D40", Placeholder="#B2DFDB", Background="#E0FFFF", Button="#80CBC4", Icon="#40E0D0"},
    ["Volcano"] = {Accent="#B22222", Dialog="#1C1C1C", Outline="#FF6347", Text="#EBEBEB", Placeholder="#704747", Background="#0A0A0A", Button="#FF4500", Icon="#FF6347"},
    ["Amethyst"] = {Accent="#9966CC", Dialog="#36284C", Outline="#CCFF66", Text="#EDE9F2", Placeholder="#8A72A4", Background="#221A33", Button="#7A52AA", Icon="#CCFF66"},
    ["Pastel Dream"] = {Accent="#FFB3BA", Dialog="#FAF3E0", Outline="#BAE1FF", Text="#333333", Placeholder="#C1B4A5", Background="#FFFFFF", Button="#BAE1FF", Icon="#FFB3BA"},
    ["Coffee Shop"] = {Accent="#795548", Dialog="#F5F5DC", Outline="#A1887F", Text="#3E2723", Placeholder="#BCB0A4", Background="#FFF8E1", Button="#D7CCC8", Icon="#795548"},
    ["Cyberpunk Red"] = {Accent="#FF3333", Dialog="#080008", Outline="#33FFFF", Text="#FDFDFD", Placeholder="#771111", Background="#000000", Button="#CC0000", Icon="#33FFFF"}
}

-- Add all themes to WindUI
for name, colors in pairs(themeColors) do
    WindUI:AddTheme({
        Name = name,
        Accent = Color3.fromHex(colors.Accent),
        Dialog = Color3.fromHex(colors.Dialog),
        Outline = Color3.fromHex(colors.Outline),
        Text = Color3.fromHex(colors.Text),
        Placeholder = Color3.fromHex(colors.Placeholder),
        Background = Color3.fromHex(colors.Background),
        Button = Color3.fromHex(colors.Button),
        Icon = Color3.fromHex(colors.Icon)
    })
end

WindUI:SetTheme("Volcano") -- default

local function GradientText(text, color1, color2)
    local result = ""
    for i = 1, #text do
        local t = (i - 1) / (#text - 1)
        local r = color1.R + (color2.R - color1.R) * t
        local g = color1.G + (color2.G - color1.G) * t
        local b = color1.B + (color2.B - color1.B) * t
        local hex = string.format("#%02X%02X%02X", r * 255, g * 255, b * 255)
        result = result .. string.format('<font color="%s">%s</font>', hex, text:sub(i, i))
    end
    return result
end

local Window = WindUI:CreateWindow({
    Title = GradientText("PanScript", Color3.fromRGB(173, 216, 230), Color3.fromRGB(0, 0, 139)),
    Icon = "rbxassetid://84501312005643",
    IconThemed = "true",
    Author = "By @mallo",
    Size = UDim2.fromOffset(580, 460),
    Resizable = true,
    Transparent = true,
    User = {
        Enabled = true,
        Anonymous = False,
        Callback = function()
            print("clicked")
        end,
    },
})

Window:Tag({
    Title = "Developer",
    Color = Color3.fromHex("#30ff6a"),
    Radius = 10, -- from 0 to 13
})

Window:Tag({
    Title = "test UI V1.0",
    Color = Color3.fromHex("#30ff6a"),
    Radius = 10, -- from 0 to 13
})

Window:SetIconSize(50) -- default is 20

Window:EditOpenButton({
    Title = GradientText("PanScript", Color3.fromRGB(173, 216, 230), Color3.fromRGB(0, 0, 139)),
    Icon = "rbxassetid://84501312005643",
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new( -- gradient
        Color3.fromHex("ADD8E6"), 
        Color3.fromHex("00008B")
    ),
    OnlyMobile = false,
    Enabled = true,
    Draggable = true,
})

Window:DisableTopbarButtons({ "Close" })

local Info = Window:Tab({Title = "Information", Icon = "info" })

local InviteCode = "KG9ADqwT9Q" -- change to your discord invite
local DiscordAPI = "https://discord.com/api/v10/invites/" .. InviteCode .. "?with_counts=true&with_expiration=true"

local Response
local ErrorMessage = nil

xpcall(function()
    Response = game:GetService("HttpService"):JSONDecode(WindUI.Creator.Request({
        Url = DiscordAPI,
        Method = "GET",
        Headers = {
            ["Accept"] = "application/json"
        }
    }).Body)
end, function(err)
    warn("err fetching discord info: " .. tostring(err))
    ErrorMessage = tostring(err)
    Response = nil
end)

if Response and Response.guild then
    local ParagraphConfig = {
        Title = Response.guild.name,
        Desc =
            ' <font color="#52525b">‚Ä¢</font> Member Count: ' .. tostring(Response.approximate_member_count) ..
            '\n <font color="#16a34a">‚Ä¢</font> Online Count: ' .. tostring(Response.approximate_presence_count)
        ,
        Image = "https://cdn.discordapp.com/icons/" .. Response.guild.id .. "/" .. Response.guild.icon .. ".png?size=256",
        ImageSize = 42,
        Buttons = {
            {
                Icon = "link",
                Title = "Copy Discord Invite",
                Callback = function()
                    pcall(function()
                        setclipboard("https://discord.gg/" .. InviteCode)
                    end)
                end
            },
            {
                Icon = "refresh-cw",
                Title = "Update Info",
                Callback = function()
                    xpcall(function()
                        local UpdatedResponse = game:GetService("HttpService"):JSONDecode(WindUI.Creator.Request({
                            Url = DiscordAPI,
                            Method = "GET",
                        }).Body)
                        
                        if UpdatedResponse and UpdatedResponse.guild then
                            DiscordInfo:SetDesc(
                                ' <font color="#52525b">‚Ä¢</font> Member Count: ' .. tostring(UpdatedResponse.approximate_member_count) ..
                                '\n <font color="#16a34a">‚Ä¢</font> Online Count: ' .. tostring(UpdatedResponse.approximate_presence_count)
                            )
                        end
                    end, function(err)
                        warn("err updating discord info: " .. tostring(err))
                    end)
                end
            }
        }
    }
    
    if Response.guild.banner then
        ParagraphConfig.Thumbnail = "https://cdn.discordapp.com/banners/" .. Response.guild.id .. "/" .. Response.guild.banner .. ".png?size=256"
        ParagraphConfig.ThumbnailSize = 80
    end
    
    local DiscordInfo = Info:Paragraph(ParagraphConfig)
else
    Info:Paragraph({
        Title = "Error when receiving information about the Discord server",
        Desc = ErrorMessage or "Unknown error occurred",
        Image = "triangle-alert",
        ImageSize = 26,
        Color = "Red",
    })
end

-- üìò Game Information Box (like ‚ÄúBubble Gum Simulator INFINITY‚Äù)
local GameInfo = Info:Paragraph({
    Title = GradientText("PanScript", Color3.fromRGB(173, 216, 230), Color3.fromRGB(0, 0, 139)),
    Desc = "Script made by @mallo",
    Color = "White",
})

-- üéÆ Supported Games Tab
local SupportedGamesTab = Window:Tab({
    Title = "Supported Games!", 
    Icon = "gamepad",
})

-- ü™ì Cut Trees Button
SupportedGamesTab:Button({
    Title = "Cut Trees", 
    Desc = "Teleport to Cut Trees!",
    Callback = function()
        -- Replace with Cut Trees game ID
        local cutTreesID = 16241018808 
        game:GetService("TeleportService"):Teleport(cutTreesID, game.Players.LocalPlayer)
    end
})

-- üé£ Fish It Button
SupportedGamesTab:Button({
    Title = "Fish It!", 
    Desc = "Teleport to Fish It!",
    Callback = function()
        -- Replace with Fish It game ID
        local fishItID = 17799431029 
        game:GetService("TeleportService"):Teleport(fishItID, game.Players.LocalPlayer)
    end
})

-- üè† Main Tab
local MainTab = Window:Tab({
    Title = "Main",
    Icon = "heart",
})

-- Services
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer

-- Utility
local function includes(t, v) return t and table.find(t, v) ~= nil end
local MAX_ITEMS = 50

-- Targets dropdown
local selectedTargets = {}
MainTab:Dropdown({
    Title = "Choose Target",
    Values = { "Player", "Campfire" },
    Value = {},
    Multi = true,
    AllowNone = true,
    Callback = function(option)
        selectedTargets = option
    end
})

-- DEST helper
local function getDestinationCFrame()
    if includes(selectedTargets, "Campfire") then
        return CFrame.new(0, 8, 0)
    elseif includes(selectedTargets, "Player") then
        local character = player.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            return character.HumanoidRootPart.CFrame
        else
            return nil
        end
    end
    return nil
end

-- Generic mover function (handles Model/BasePart/other with BasePart descendant)
local function moveInstanceToDest(inst, destCFrame)
    if not inst or not destCFrame then return false end
    if inst:IsA("Model") then
        local primary = inst.PrimaryPart or inst:FindFirstChildWhichIsA("BasePart", true)
        if primary then
            inst:SetPrimaryPartCFrame(destCFrame)
            return true
        end
    elseif inst:IsA("BasePart") then
        inst.CFrame = destCFrame
        return true
    else
        local part = inst:FindFirstChildWhichIsA("BasePart", true)
        if part then
            local modelLike = part:FindFirstAncestorOfClass("Model")
            if modelLike then
                modelLike:SetPrimaryPartCFrame(destCFrame)
                return true
            else
                part.CFrame = destCFrame
                return true
            end
        end
    end
    return false
end

-- Notify helper
local function notify(title, content, dur)
    WindUI:Notify({ Title = title or "Phantom Notify", Content = content or "", Duration = dur or 3 })
end

-- ---------- DROPDOWNS for categories ----------
-- Items (general)
local selectedItems = {}
MainTab:Section({ Title = "Items" })
MainTab:Dropdown({
    Title = "Choose Item(s)",
    Values = {
        "Bolt", "Tyre", "Sheet Metal", "Old Radio", "Broken Fan",
        "Broken Microwave", "Washing Machine", "Old Car Engine",
        "UFO Scrap", "UFO Component", "UFO Junk", "Cultist Gem", "Gem of the Forest"
    },
    Value = {},
    Multi = true,
    AllowNone = true,
    Callback = function(option)
        selectedItems = option
    end
})

MainTab:Button({
    Title = "Collect Item(s)",
    Desc = "Move chosen items to target",
    Callback = function()
        local dest = getDestinationCFrame()
        if not dest then notify("Phantom Notify", "‚ö†Ô∏è Choose a Target (Player or Campfire)", 4); return end
        if not (selectedItems and #selectedItems > 0) then notify("Phantom Notify", "‚ö†Ô∏è Choose Item(s) to collect", 4); return end

        local itemsFolder = Workspace:FindFirstChild("Items")
        if not itemsFolder then notify("Phantom Notify", "‚ö†Ô∏è Items folder not found", 4); return end

        local total = 0
        local notFound = {}

        for _, name in ipairs(selectedItems) do
            if total >= MAX_ITEMS then break end
            local foundAny = false
            for _, obj in ipairs(itemsFolder:GetChildren()) do
                if total >= MAX_ITEMS then break end
                if obj.Name == name then
                    local ok = pcall(moveInstanceToDest, obj, dest)
                    if ok then
                        total += 1
                        foundAny = true
                        task.wait(0.03)
                    end
                end
            end
            if not foundAny then table.insert(notFound, name) end
        end

        if total > 0 then notify("Phantom Notify", "‚úÖ Moved "..total.." item(s).", 4) end
        if #notFound > 0 then notify("Phantom Notify", "‚ö†Ô∏è Not found: "..table.concat(notFound, ", "), 5) end
    end
})

-- Fuel
local selectedFuelItems = {}
MainTab:Section({ Title = "Fuel" })
MainTab:Dropdown({
    Title = "Choose Fuel",
    Values = {
        "Corpse", "Sapling", "Alien", "Log", "Chair",
        "Coal", "Fuel Canister", "Oil Barrel", "Biofuel"
    },
    Value = {},
    Multi = true,
    AllowNone = true,
    Callback = function(option)
        selectedFuelItems = option
    end
})
MainTab:Button({
    Title = "Collect Fuel",
    Desc = "",
    Callback = function()
        local dest = getDestinationCFrame()
        if not dest then notify("Phantom Notify", "‚ö†Ô∏è Choose a Target (Player or Campfire)", 4); return end
        if not (selectedFuelItems and #selectedFuelItems > 0) then notify("Phantom Notify", "‚ö†Ô∏è Choose Fuel Items", 4); return end

        local itemsFolder = Workspace:FindFirstChild("Items")
        if not itemsFolder then notify("Phantom Notify", "‚ö†Ô∏è Items folder not found", 4); return end

        local total = 0
        local notFound = {}

        for _, name in ipairs(selectedFuelItems) do
            if total >= MAX_ITEMS then break end
            local found = false
            for _, obj in ipairs(itemsFolder:GetChildren()) do
                if total >= MAX_ITEMS then break end
                if obj.Name == name then
                    local ok = pcall(moveInstanceToDest, obj, dest)
                    if ok then
                        total += 1
                        found = true
                        task.wait(0.03)
                    end
                end
            end
            if not found then table.insert(notFound, name) end
        end

        if total > 0 then notify("Phantom Notify", "‚úÖ Moved "..total.." fuel item(s).", 4) end
        if #notFound > 0 then notify("Phantom Notify", "‚ö†Ô∏è Not found: "..table.concat(notFound, ", "), 5) end
    end
})

-- Food / Healing
local selectedFoodItems = {}
MainTab:Section({ Title = "Food / Healing" })
MainTab:Dropdown({
    Title = "Choose Food / Healing",
    Values = {
        "Carrot", "Berry", "Morsel", "Steak", "Ribs",
        "Cooked Morsel", "Cooked Steak", "Cooked Ribs",
        "Bandage", "Medkit", "Chili"
    },
    Value = {},
    Multi = true,
    AllowNone = true,
    Callback = function(option)
        selectedFoodItems = option
    end
})
MainTab:Button({
    Title = "Collect Food / Healing",
    Callback = function()
        local dest = getDestinationCFrame()
        if not dest then notify("Phantom Notify", "‚ö†Ô∏è Choose a Target (Player or Campfire)", 4); return end
        if not (selectedFoodItems and #selectedFoodItems > 0) then notify("Phantom Notify", "‚ö†Ô∏è Choose Food Items", 4); return end

        local itemsFolder = Workspace:FindFirstChild("Items")
        if not itemsFolder then notify("Phantom Notify", "‚ö†Ô∏è Items folder not found", 4); return end

        local total = 0
        local notFound = {}

        for _, name in ipairs(selectedFoodItems) do
            if total >= MAX_ITEMS then break end
            local found = false
            for _, obj in ipairs(itemsFolder:GetChildren()) do
                if total >= MAX_ITEMS then break end
                if obj.Name == name then
                    local ok = pcall(moveInstanceToDest, obj, dest)
                    if ok then
                        total += 1
                        found = true
                        task.wait(0.03)
                    end
                end
            end
            if not found then table.insert(notFound, name) end
        end

        if total > 0 then notify("Phantom Notify", "‚úÖ Moved "..total.." food item(s).", 4) end
        if #notFound > 0 then notify("Phantom Notify", "‚ö†Ô∏è Not found: "..table.concat(notFound, ", "), 5) end
    end
})

-- Guns & Armor
local selectedGearItems = {}
MainTab:Section({ Title = "Guns & Armor" })
MainTab:Dropdown({
    Title = "Choose Guns / Armor",
    Values = {
        "Morning star", "Laser Sword", "Raygun", "Chainsaw", "Strong Axe",
        "Spear", "Good Axe", "Revolver", "Rifle", "Tactical Shotgun",
        "Revolver Ammo", "Rifle Ammo", "Alien Armour", "Leather Body",
        "Iron Body", "Thorn Body", "Riot Shield"
    },
    Value = {},
    Multi = true,
    AllowNone = true,
    Callback = function(option)
        selectedGearItems = option
    end
})
MainTab:Button({
    Title = "Collect Guns / Armor",
    Callback = function()
        local dest = getDestinationCFrame()
        if not dest then notify("Phantom Notify", "‚ö†Ô∏è Choose a Target (Player or Campfire)", 4); return end
        if not (selectedGearItems and #selectedGearItems > 0) then notify("Phantom Notify", "‚ö†Ô∏è Choose Gear Items", 4); return end

        local itemsFolder = Workspace:FindFirstChild("Items")
        if not itemsFolder then notify("Phantom Notify", "‚ö†Ô∏è Items folder not found", 4); return end

        local total = 0
        local notFound = {}

        for _, name in ipairs(selectedGearItems) do
            if total >= MAX_ITEMS then break end
            local found = false
            for _, obj in ipairs(itemsFolder:GetChildren()) do
                if total >= MAX_ITEMS then break end
                if obj.Name == name then
                    local ok = pcall(moveInstanceToDest, obj, dest)
                    if ok then
                        total += 1
                        found = true
                        task.wait(0.03)
                    end
                end
            end
            if not found then table.insert(notFound, name) end
        end

        if total > 0 then notify("Phantom Notify", "‚úÖ Moved "..total.." gear item(s).", 4) end
        if #notFound > 0 then notify("Phantom Notify", "‚ö†Ô∏è Not found: "..table.concat(notFound, ", "), 5) end
    end
})

-- Chest items (select list)
local allChestItems = {
    "Bandage","Good Sack","Good Axe","Old Flashlight","Spear","Revolver","Revolver Ammo",
    "Fuel Canister","Flower Seeds","Alien Armor","Laser Sword","Laser Cannon","Ice Axe",
    "Snowball","Ice Sword","Frozen Shuriken","Leather Body","Berry Seeds","Rifle","Ammo",
    "Strong Flashlight","Defensive Blueprint Spikes","Iron Body","Chili Seeds","Oil Barrel",
    "Strong Axe","Giant Sack","Medkit","Defensive Blueprint Bear Trap","Defensive Blueprint Barbed Sore",
    "Cultist Gem","Chainsaw","Kunai","Riot Shield","Thorn Armor","Tactical Shotgun","Gem of the Forest Fragment"
}
local chestSelectedItems = {}
MainTab:Section({ Title = "Chest Items" })
MainTab:Dropdown({
    Title = "Select Chest Items",
    Values = allChestItems,
    Value = {},
    Multi = true,
    AllowNone = true,
    Callback = function(selected)
        chestSelectedItems = selected
    end
})
MainTab:Button({
    Title = "Collect Chest Items",
    Callback = function()
        local dest = getDestinationCFrame()
        if not dest then notify("Phantom Notify", "‚ö†Ô∏è Choose a Target (Player or Campfire)", 4); return end
        if not (chestSelectedItems and #chestSelectedItems > 0) then notify("Phantom Notify", "‚ö†Ô∏è Choose Chest Items", 4); return end

        local itemsFolder = Workspace:FindFirstChild("Items")
        if not itemsFolder then notify("Phantom Notify", "‚ö†Ô∏è Items folder not found", 4); return end

        local total = 0
        local notFound = {}

        for _, name in ipairs(chestSelectedItems) do
            if total >= MAX_ITEMS then break end
            local found = false
            for _, obj in ipairs(itemsFolder:GetChildren()) do
                if total >= MAX_ITEMS then break end
                if obj.Name == name then
                    local ok = pcall(moveInstanceToDest, obj, dest)
                    if ok then
                        total += 1
                        found = true
                        task.wait(0.03)
                        break
                    end
                end
            end
            if not found then table.insert(notFound, name) end
        end

        if total > 0 then notify("Phantom Notify", "‚úÖ Moved "..total.." chest item(s).", 4) end
        if #notFound > 0 then notify("Phantom Notify", "‚ö†Ô∏è Not found: "..table.concat(notFound, ", "), 5) end
    end
})

-- Other items
local selectedOtherItems = {}
MainTab:Section({ Title = "Other Items" })
MainTab:Dropdown({
    Title = "Choose Other Items",
    Values = {
        "Sack", "Seed Box", "Chainsaw", "Old Flashlight", "Strong Flastlight",
        "Bunny Foot", "Wolf Pelt", "Bear Pelt", "Alpha Wolf Pet",
        "Artic Fox Pelt", "Polar Bear Pelt", "Mammoth Tusk"
    },
    Value = {},
    Multi = true,
    AllowNone = true,
    Callback = function(option)
        selectedOtherItems = option
    end
})
MainTab:Button({
    Title = "Collect Other Items",
    Callback = function()
        local dest = getDestinationCFrame()
        if not dest then notify("Phantom Notify", "‚ö†Ô∏è Choose a Target (Player or Campfire)", 4); return end
        if not (selectedOtherItems and #selectedOtherItems > 0) then notify("Phantom Notify", "‚ö†Ô∏è Choose Other Items", 4); return end

        local itemsFolder = Workspace:FindFirstChild("Items")
        if not itemsFolder then notify("Phantom Notify", "‚ö†Ô∏è Items folder not found", 4); return end

        local total = 0
        local notFound = {}

        for _, name in ipairs(selectedOtherItems) do
            if total >= MAX_ITEMS then break end
            local found = false
            for _, obj in ipairs(itemsFolder:GetChildren()) do
                if total >= MAX_ITEMS then break end
                if obj.Name == name then
                    local ok = pcall(moveInstanceToDest, obj, dest)
                    if ok then
                        total += 1
                        found = true
                        task.wait(0.03)
                    end
                end
            end
            if not found then table.insert(notFound, name) end
        end

        if total > 0 then notify("Phantom Notify", "‚úÖ Moved "..total.." other item(s).", 4) end
        if #notFound > 0 then notify("Phantom Notify", "‚ö†Ô∏è Not found: "..table.concat(notFound, ", "), 5) end
    end
})

-- Final small helper button: select default target = Player
Tab:Button({
    Title = "Set Target ‚Üí Player",
    Callback = function()
        selectedTargets = { "Player" }
        notify("Phantom Notify", "Target set to Player", 2)
    end
})

-- Set default selected target to Player
selectedTargets = { "Player" }

notify("Phantom Flux", "Item Control UI loaded", 3)
